/*! imsep 2019-05-31 */

$(document).ready(function(){$("#sidebarCollapse").on("click",function(){$("#sidebar").toggleClass("active",{duration:100,complete:function(){app.mapContainer.map.updateSize(),setTimeout(function(){app.mapContainer.map.updateSize()},500)}})}),$("#sidebar").swipe({allowPageScroll:"auto",excludedElements:".ol-layerswitcher,input, select, textarea,.input-group-addon",swipeStatus:function(A,a,e,t,i,n){return"move"==a&&"right"==e?($("#sidebar").removeClass("active",{duration:300,complete:function(){app.mapContainer.map.updateSize(),setTimeout(function(){app.mapContainer.map.updateSize()},500)}}),!1):"move"!=a||"left"!=e||($("#sidebar").addClass("active",{duration:300,complete:function(){app.mapContainer.map.updateSize(),setTimeout(function(){app.mapContainer.map.updateSize()},500)}}),!1)}}),$.ajax({url:"/users",dataType:"json",success:function(A){if(A){var a=$.map(A,function(A){return{id:A.id,text:A.userName,data:A}});$("#usersWhoCanViewMap").select2({data:a})}}}),$.ajax({url:"/groups",dataType:"json",success:function(A){if(A){var a=$.map(A,function(A){return{id:A.id,text:A.name,data:A}});$("#groupsWhoCanViewMap").select2({data:a})}}})}),$(function(){$(window).on("resize",function(){app&&app.mapContainer&&app.mapContainer.map,pageTask.setMapHeight()}),$(window).on("orientationchange",function(A){pageTask.setMapHeight()}),pageTask.init(),pageTask.setMapHeight()});var pageTask={setMapHeight:function(){var A=document.body,a=document.documentElement,e=Math.max(A.scrollHeight,A.offsetHeight,a.clientHeight,a.scrollHeight,a.offsetHeight);e=a.clientHeight;var t=$("#navbar_top").outerHeight(),i=$("#footer").outerHeight(),n=$("#mousePosition").outerHeight(),r=e-t-i-n;$("#map").outerHeight(r-4),app.mapContainer&&app.mapContainer.map&&(app.mapContainer.map.updateSize(),setTimeout(function(){app.mapContainer.map.updateSize()},3e3)),$(".tab-fixed-height").outerHeight(r+n-41)},init:function(){var A=this;app.mapContainer=new MapContainer(app,{targetEl:"map"}),app.mapContainer.create(),app.mapContainer.loadFromJson(Base64.decode(app.pageData.mapData)),this.hideTab("tabRoute"),app.mapContainer.mapSettings.preview&&this.activateTab("tabLayers"),$("#tabLayers_accordion").find('[data-toggle="collapse"]').click(function(){$("#tabLayers_accordion").find(".collapse.in").collapse("hide")}),$("#cmdAddNewWMS").click(function(){app.mapContainer.addNewWMS()}),$("#cmdAddNewWFS").click(function(){app.mapContainer.addNewWFS()}),$("#cmdAddNewOSMXML").click(function(){app.mapContainer.addNewOSMXML()}),$("#cmdAddGeoJSON").click(function(){app.mapContainer.addGeoJSON()}),$("#cmdWCS").click(function(){app.mapContainer.downloadDataFromWCS()}),this.create_Layer_AutoSearch(),this.create_BaseLayer_AutoSearch();var a=$("#frmMap");a.find("#name").keypress(function(A){13==A.which&&A.preventDefault()}),a.find("#name").change(function(A){app.mapContainer.mapSettings.name=$(this).val()}),a.find("#description").change(function(A){app.mapContainer.mapSettings.description=$(this).val()}),$("#cmdSaveMap").click(function(){A.saveMap(a,!1)}),$("#cmdSaveMapAs").click(function(){A.saveMap(a,!0)})},saveMap:function(i,A){var a=$(i);if(!a.valid())return!1;waitingDialog.show("Saving map",{progressType:""});var e=app.mapContainer.getCurrentGeoExtent();a.find("#ext_north").val(e.maxy),a.find("#ext_east").val(e.maxx),a.find("#ext_south").val(e.miny),a.find("#ext_west").val(e.minx),a.find("#details").val(app.mapContainer.getMapDetailsJsonStr());var t=a.attr("action");A&&(t="/map/-1"),$.ajax({type:a.attr("method"),url:t,data:a.serialize(),success:function(A){var e=A.id;if(!A.status)return waitingDialog.hide(),void $.notify({message:A.message||"Failed to save map."},{type:"danger",delay:2e3,animate:{enter:"animated fadeInDown",exit:"animated fadeOutUp"}});location.protocol,location.host,location.pathname;var a="/map/"+A.id;if(a!=location.pathname){var t=location.protocol+"//"+location.host+a;window.history.replaceState({},document.title,t)}i.attr("action",a),waitingDialog.hide(),console.log("Updating map's thumbnail..."),app.mapContainer.exportPngBlob(function(A){if(A){var a=new FormData;a.append("file",A),$.ajax({url:"/map/"+e+"/thumbnail",type:"POST",data:a,processData:!1,contentType:!1}).done(function(A){A.status?console.log("Map's thumbnail saved successfully"):console.log(A.message||"Failed to save thumbnail.")}).fail(function(A,a,e){console.log("Failed to save thumbnail")})}else waitingDialog.hide()},256)},error:function(A,a,e){waitingDialog.hide(),console.log("An error occurred."),$.notify({message:"Failed to save Map"},{type:"danger",delay:2e3,animate:{enter:"animated fadeInDown",exit:"animated fadeOutUp"}})}})},activateTab:function(A){var a=$('.nav-tabs a[href="#'+this.tabId+'"]');a.parent("li").show(),a.tab("show")},hideTab:function(A){(A=$('.nav-tabs a[href="#'+A+'"]')).parent("li").hide()}};pageTask.create_Layer_AutoSearch=function(){var s=void 0,o=this;$("#autoSearchLayers").autocomplete({minLength:0,source:function(i,n){i.term;var r=new RegExp($.ui.autocomplete.escapeRegex(i.term),"i");$(this).text();if(s&&o.downloding){var A=s,a=$.map(A,function(A){if(A.name&&(!i.term||r.test(A.name)))return{label:A.name,value:A.name,data:A}});n(a)}else o.downloding||(o.downloding=!0,$.getJSON("/datalayers/?format=json",i,function(A,a,e){s=A.sort(function(A,a){return A.OwnerUser.userName==a.OwnerUser.userName?A.updatedAt>a.updatedAt:A.OwnerUser.userName==app.identity.name?-1:a.OwnerUser.userName==app.identity.name?1:A.updatedAt+"-"+A.OwnerUser.userName>a.updatedAt+"-"+a.OwnerUser.userName});var t=$.map(A,function(A){if(A.name&&(!i.term||r.test(A.name)))return{label:A.name,value:A.name,data:A}});n(t),o.downloding=!1,$("#autoSearchLayers").removeClass("ui-autocomplete-loading")}).fail(function(A,a,e){console.log("error"),$.notify({message:"Failed to retrieve layer list"},{type:"danger",delay:2e3,animate:{enter:"animated fadeInDown",exit:"animated fadeOutUp"}}),o.downloding=!1,$("#autoSearchLayers").removeClass("ui-autocomplete-loading")}))},select:function(A,a){return a.item,$(this).val(a.item.label),function(A){if(!A)return $("#autoSearchLayers_results").html("");var a=A.label,e=A.data.description||"";e=e.replace(/(?:\r\n|\r|\n)/g,"<br />");var t=A.data.dataType?"autocomplete-custom-item icon-"+A.data.dataType:"",i="";i+='<div class="'+t+'" >',A.data.thumbnail?i+='<img class="avatar48" src="/datalayer/'+A.data.id+'/thumbnail" />':i+='<i class="avatar48 fa fa-map"> </i>';i+='<a target="_blank" href="/datalayer/'+A.data.id+"?dataType="+A.data.dataType+'">'+a+"</a>"+(A.data.description?'<br/><small style="white-space: pre;">'+e+"</small>":""),i+='<div class="list-inline">',A.data.OwnerUser.userName!==app.identity.name&&(i+='    <li><i class="fa fa-user"></i> <span>'+A.data.OwnerUser.userName+"</span></li>");i+=' <li style="float: right;"><button id="cmdAddLayerToMap" title="Add this layer to map" class="btn-primary  "><span class="glyphicon glyphicon-plus"></span>Add</button></lin>',i+=" </div>",i+="</div>",$("#autoSearchLayers_results").html(i),$("#autoSearchLayers_results").find("#cmdAddLayerToMap").click(function(){app.mapContainer.addData(A.data),$("#autoSearchLayers_results").html(""),$("#autoSearchLayers").val("")})}(a.item),!1},focus:function(A,a){return!1},open:function(){$("ul.ui-menu").width($(this).innerWidth())}}).focus(function(A,a){$(this).autocomplete("search")}).data("ui-autocomplete")._renderItem=function(A,a){if(a.data&&a.data.updatedAt&&!a.data.updatedAt_obj)try{a.data.updatedAt_obj=new Date(a.data.updatedAt)}catch(A){}var e=a.label,t=a.data.description||"";t=t.replace(/(?:\r\n|\r|\n)/g,"<br />");var i=this.term;i&&(e=String(e).replace(new RegExp(i,"gi"),"<strong class='ui-state-highlight'>$&</strong>"),t=String(t).replace(new RegExp(i,"gi"),"<strong class='ui-state-highlight'>$&</strong>"));var n="";return n+='<div class="'+(a.data.dataType?"autocomplete-custom-item icon-"+a.data.dataType:"")+'" >',a.data.thumbnail&&(n+='<img class="avatar48" src="/datalayer/'+a.data.id+'/thumbnail" />'),n+="<strong>"+e+"</strong>",n+=a.data.description?'<pre class="nostyle" style="display:inline;"><br/><small style="white-space: pre;">'+t+"</small></pre>":"",$("<li></li>").append(n).appendTo(A)}},pageTask.create_BaseLayer_AutoSearch=function(){var i=[{name:"OSM",dataType:"baseLayer",type:"OSM",baseLayer:!0,description:"Open Street Map",thumbnail:"data:image/jpeg;base64,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",details:{ext_west:-180,ext_east:180,ext_north:86,ext_south:-86}},{name:"Aerial",dataType:"baseLayer",type:"BingMaps",baseLayer:!0,imagerySet:"Aerial",key:app.BING_MAPS_KEY,description:"Bing Aerial Imagery",thumbnail:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBw0NDQ0NDQ8ODQ0NDQ4NDQ0NDQ8NDQ0NFRIWFhURExMZHSggGB0xJxMTITEiJTUrOi4wFx8/ODM4NzE5LisBCgoKDg0OGhAQGSslHSUrKy0rKy0tKystKzArMC0tKystKy0rKy0rLS0tLTAtKystKys1LS8tKy0uLTAtKy0tLf/AABEIAOEA4QMBEQACEQEDEQH/xAAcAAEAAgMBAQEAAAAAAAAAAAAAAgMBBAcFBgj/xABDEAACAgADAgcLCgQHAAAAAAAAAQIDBAURBhIhMUFRcZGyEyIkNVJhdIGTsdEHI1Nic4KSobPBFTIzchQ0QkRUovD/xAAaAQEAAgMBAAAAAAAAAAAAAAAAAQIDBAYF/8QALBEBAAIBAgUDAwMFAAAAAAAAAAECAwQREiExMlETM3EikbFBYYEFUqHR8P/aAAwDAQACEQMRAD8A7iAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADyc+zqGEhyObWvDxRXO1y9Batd2DPnjHH7ue5htLiLpN7z05N9t9UV3qNiKRDyMmqvaWg83xHlL8ES3DDF610Hm+I8pfgiOGEetfyrebYjyl+GJPDCPWv5Qlm2I8pfhiOGFfWv5QebYjyl+FDhhHrX8q3muI8v/AKonhhHrX8oSzXEeX+SHDCPWv5VyzS/y/wAkOGEetfyvwe0OLokpV2zi/qzcdelfyv1oTSJWpqclZ3iXS9jtr447Sm7SN+j3WuBW6cfByS8xrZMfDzh7Wk1kZfpt1fWmJvgAAAAAAAAAAAAAAAAAA5PtXjpXYiWr4NXPTpekV1JdZtUjaHg6rJNrvEbLtZBkoQYQgwhBhCDJVQYQhIlCuQGAhs5dip02wsrek4SU4v60eFe7T1kTG8L47zW0TDv+GuVlddi4rIRmuiS1/c0JdZWd4iVoSAAAAAAAAAAAAAAAAAHGM7fhEv7YdlG5Xo5zN3tDUsxIthDpWzOS4TF5bR3emEpaS79Lds/mf+pcJrXtMW5PZ02DHkwxxQ8naPYauim7E0WyUaa52yrsW9rGKbaUvUXpl3naWDUaCK1m9Z6c9nwbZmeXKDJVQYQhIlCEghgCVfGgmOrveRT1wmF9Gp/TiaNusuqxT9FfiHoFWUAAAAAAAAAAAAAAAAAOK52/CJ9Efcjcr0c3m75aGpZiYbCHW9hfFuH+92mamTudBovZhtbVeLcf6HiP05EU7oZNT7N/ifw4XCzToNyHOTG61sljQYQgyUIMIAMx4wmOrt2Q2+DYb0ensI0bdXUYp+iPiHt1y1RVmhMJAAAAAAAAAAAAAAAAHEc6fhE+iPuN2vRzWbvlo6ksTGoQ69sJ4tw/3u0zUyd0ug0Xs1bW1fi3H+h4j9ORFO6GXU+zf4n8OLYbJsXdS8RTTK6qMnCbr0nKEktdJRXCuNPU2ptETtLwa4r2rxVjeGipODcZJp8qa0a9RaGG0LGyWNBkoRCAAviCHY8js8Hw/wBhT2EaVurp8XZHxD3cPYVZobiepC7IAAAAAAAAAAAAAAADh2dPwifRH3G7Xo5jN3y0dSWNjUIdg2D8W4f73aZq5O6XQ6L2atvavxbj/Q8R+nIrTuhl1Hs3+J/DnHyW5t3HGyw0n83ioaLmV0eGPWt5dRnyxvG7y9Bk4cnD+k/l0vNMiweLWmIorsflOOk151JcJgi0x0erkw0yd0Pjs0+TKt6ywd7r5qr1vw9U1wr16mWuby8/N/TInnjn7/8Af7fHZvstj8Hq7aW61x21vulenPquL1mauSsvNy6TNj7o5fs8Uu1gB8GCHWsln4Ph/sauwjSt1l02Lsj4h7eHmVZoejTMheF4SAAAAAAAAAAAAAAAcLzl+ET6I+43a9HL5u+WjqWYmNQOxbBeLMP0S7TNTL3S6LQ+xVubWeLcw9DxH6citO6GXUe1f4n8OEYXEyptrtg9J1zjOL86eptzG7nq2msxaP0dayH5RMFidIYjXCWvRd+96mT80+T16GvbFMdHs4dfjvytyn/D7GLTSa4U+FNcqMTeedtL/kMX6PZ2S1erFm9u3w/P9U+BJm65aarSVWHxPoYHVcnl8xR9jV2EaVurpsXZHxD2qJFWaHoUzCzdhLUhZIAAAAAAAAAAAAAADg+cvwif3fcb1ejls3fLS1JYmNQOybAeLMN0S7TNTL3S6PQ+xVu7WeLcw9DxH6citO6GXUe1b4n8OK5Fs/i8wnu4etuKffWy72qPTLl6EbVrRXq8HFgvln6Y/l1HZrYLCYLdtu8KxC4d6a+arf1Ifu9fUa9ssy9fBoqY+c85fXJGNuvnttM2oowd9c5xU7KpwjFvlaL0rMy1tTlrWkxLhCNtzq6ufIyVLVWS4n0MlV1PKH8xR9jV2EaVurpsXZHxD16GVZYb9LC7dqkQlemEsgAAAAAAAAAAAAA4JnD8In6vcb1ejlc3fLS1LMTGoHZ/k/8AFeG6Jdpmnl7pdHofYq93E4eF1c6rIqddkJQnF8UoNaNGOOTbtWLRtLOHohVBQrjGuEVpGMEoxS8yQIiIjaDEXwqg7LJRhCK1lKTSSXSCbREby53tP8pMY71OXrefE8RNd6v7VymeuLy8vP8A1D9Mf3c3xuMtxE3ZdOVk3yyevVzGeI2eXa02ne0qAgAsVnA0+Zksc1dXyj+hR9jV2EadurpcXZHxD16SrLDepYWbdTIS2YMJTAAAAAAAAAAAAABwDN38/P1e4369HKZu+WlqSxGoH0+zG22IwEY0zir8Kn/JwRsrT49yXL0PrMV8UW5/q39LrrYvpnnV1DItosHj472HsTklrKqXe2x6Ymtas16vbxZ6ZY3rLyNptvMJgd6uprE4hcG5B95B/Xl+yLVxzLDn1tMfKOcuVZ9tFjMwnvYixuCfeUw72qHRHl6WbFaxXo8bNnvlne0/w8ksxAAABGfE+hgdeyheD0fY1dhGpbq6LF2R8Q9alFWVu1BLarIS2IMJWpgZAAAAAAAAAAAADg+02ElRi7q5ccZyj06PgfU4v1m9Sd4ctqaTXJMS8oswAACDTi96DcZc8W0+tETC9bbKCFgJAAAAA3XLSMVrKbUIpcbk3ol+YlMRMztDsuBo7nXXDyIRhr0JL9jTmXR0rtEQ9CpELtutELNmASuiBbFgTAAAAAAAAAAAAD5LbbZX/HR7tSl3eMdHHVLuqXFw8kjLjycPKWhrNJ6scVerlGLwFtM3XZCUJrjjNOEupm1ExLwb47VnaYUdzfMSrtLG6wbSxp/7VBGyqyHKtOtEL1lTquddZC5vLnXWA3lzrrAby511oDMO+ajFOcnwKME5Sb5kkN0xEzO0Pt9kdmJ1zjisVHdnHhqqfC4vypefzGDJk35Q9XSaSazx36vuaoGF6LZriFm1WiErogXRAsiBNAZAAAAAAAAAAAACq/D12LSyELFzTiprqY3RNYnrDStybCP/AG+H9hX8C3FPljnFT+2Ps0bslw3/AB6PY1/AnilScVP7Y+zTsyjD/QU+xh8BxSj0qeI+zXnlOH+gp9lD4Dinyj0qeI+ymWU4f6Cn2MPgN5PTr4hD+E4f6Cn2UPgN5PTr4hj+FYf6Cn2MPgN5T6dfEJLKcN9BR7Gv4DeU+nXxDZw+Crr/AKdcIa8e5CMdeoiZXrWI6Q3IVkLL4QCzYhEhK6KAtigLYgWICaAyAAAAAAAAAAAAAABXOvUI2altBKuzVsoCNmvKklGyt0g2Y7kQnZlVBKcawLIwCy6MCErYxAsigLIoCxATQE0BkAAAAAAAAAAAAAAABiUdQKLKSVdmvOoCqVQEHUBjuYGVAhKagEpqIE1ECaQE0gLEgJICSAyAAAAAAAAAAAAAAAAAAISgBTKoIVusCPcwG4Es7oGVECSQEkgJpASSAkgJAAAAAAAAAAAAAAAAAAAAAw0BBwAi4gR3QG6A0AykBJIDKQEkBlAZAAAAAAAAAAAAAAAAAAAAAAAYaAi4gY0AaANAM6AZ0AygMgAAAAAAAAAAAAAAAAAAAAAAAAABjQBoA0AAZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH/9k=",details:{ext_west:-180,ext_east:180,ext_north:86,ext_south:-86}},{name:"Aerial with lables",dataType:"baseLayer",baseLayer:!0,type:"BingMaps",imagerySet:"AerialWithLabels",key:app.BING_MAPS_KEY,description:"Bing Aerial Imagery with Lables",thumbnail:"data:image/jpeg;base64,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",details:{ext_west:-180,ext_east:180,ext_north:86,ext_south:-86}},{name:"Road",dataType:"baseLayer",baseLayer:!0,type:"BingMaps",imagerySet:"RoadOnDemand",key:app.BING_MAPS_KEY,description:"Bing Road Map",thumbnail:"data:image/jpeg;base64,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",details:{ext_west:-180,ext_east:180,ext_north:86,ext_south:-86}}];$("#autoSearchBaseLayers").autocomplete({minLength:0,source:function(a,A){a.term;var e=new RegExp($.ui.autocomplete.escapeRegex(a.term),"i"),t=($(this).text(),i);A($.map(t,function(A){if(A.name&&(!a.term||e.test(A.name)))return{label:A.name,value:A.name,data:A}}))},select:function(A,a){return a.item,$(this).val(a.item.label),function(A){if(!A)return $("#autoSearchBaseLayers_results").html("");var a=A.label,e=A.data.description||"";e=e.replace(/(?:\r\n|\r|\n)/g,"<br />");var t=A.data.type?"autocomplete-custom-item icon-"+A.data.type:"",i="";i+='<div class="'+t+'" >',A.data.thumbnail?i+='<img class="avatar48" src="'+A.data.thumbnail+'" />':i+='<i class="avatar48 fa fa-map"> </i>';i+=a+(A.data.description?'<br/><small style="white-space: pre;">'+e+"</small>":""),i+='<div style="min-height: 3em;" class="list-inline">',i+=' <li style="float: right;"><button id="cmdAddBaseLayerToMap" title="Add this layer to map" class="btn-primary  "><span class="glyphicon glyphicon-plus"></span>Add</button></lin>',i+=" </div>",i+="</div>",$("#autoSearchBaseLayers_results").html(i),$("#autoSearchBaseLayers_results").find("#cmdAddBaseLayerToMap").click(function(){app.mapContainer.addData(A.data),$("#autoSearchBaseLayers_results").html(""),$("#autoSearchBaseLayers").val("")})}(a.item),!1},focus:function(A,a){return!1},open:function(){$("ul.ui-menu").width($(this).innerWidth())}}).focus(function(A,a){$(this).autocomplete("search")}).data("ui-autocomplete")._renderItem=function(A,a){var e=a.label,t=a.data.description||"";t=t.replace(/(?:\r\n|\r|\n)/g,"<br />");var i=this.term;i&&(e=String(e).replace(new RegExp(i,"gi"),"<strong class='ui-state-highlight'>$&</strong>"),t=String(t).replace(new RegExp(i,"gi"),"<strong class='ui-state-highlight'>$&</strong>"));var n="";return n+='<div class="'+(a.data.type?"autocomplete-custom-item icon-"+a.data.type:"")+'" >',a.data.thumbnail?n+='<img class="avatar48" src="'+a.data.thumbnail+'" />':n+='<i class="avatar48 fa fa-map"> </i>',n+=e+(a.data.description?'<pre class="nostyle" style="display:inline;"><br/><small style="white-space: pre;">'+t+"</small></pre>":""),$("<li></li>").append(n).appendTo(A)}};